# Open Agent - Environment Configuration
# Copy this file to .env and fill in your values.

# =============================================================================
# OpenCode Backend (Required)
# =============================================================================
OPENCODE_BASE_URL=http://127.0.0.1:4096
# Optional OpenCode agent name (build/plan/etc)
# OPENCODE_AGENT=build
# Auto-allow all OpenCode permissions (default: true)
OPENCODE_PERMISSIVE=true
# Auto-abort stuck tools after N seconds (0 = disabled)
TOOL_STUCK_ABORT_TIMEOUT_SECS=0

# Default model label for telemetry / UI (optional)
DEFAULT_MODEL=claude-opus-4-5-20251101

# =============================================================================
# Workspace + Library
# =============================================================================
# Default working directory for relative paths.
# In production this is typically `/root`.
WORKING_DIR=/root
# Local library path (defaults to {WORKING_DIR}/.openagent/library)
LIBRARY_PATH=/root/.openagent/library
# Remote Git URL for the library (optional)
# LIBRARY_REMOTE=git@github.com:your-org/agent-library.git

# =============================================================================
# Server settings
# =============================================================================
HOST=127.0.0.1
PORT=3000
MAX_ITERATIONS=50
STALE_MISSION_HOURS=24
MAX_PARALLEL_MISSIONS=1

# =============================================================================
# Dashboard / API Auth (JWT)
# =============================================================================
# For local debugging, set DEV_MODE=true to disable auth entirely.
DEV_MODE=true

# Password the dashboard submits to obtain a JWT.
# Choose something strong in real deployments.
DASHBOARD_PASSWORD=change-me

# HMAC secret used to sign/verify JWTs. Use a strong random value in production.
JWT_SECRET=change-me-to-a-long-random-string

# JWT validity in days (default: 30)
JWT_TTL_DAYS=30

# Optional multi-user auth (JSON array)
# OPEN_AGENT_USERS='[{"username":"admin","password":"change-me","id":"admin"}]'

# =============================================================================
# Supabase (Optional: file sharing / screenshots)
# =============================================================================
# SUPABASE_URL=https://your-project.supabase.co
# SUPABASE_SERVICE_ROLE_KEY=eyJ...

# =============================================================================
# Tool APIs (Optional)
# =============================================================================
# Used by the host MCP web search tool for higher quality results.
# TAVILY_API_KEY=tvly-...

# =============================================================================
# Dashboard Console / File Explorer (SSH)
# =============================================================================
# These are used by the dashboard "Console" page to:
# - open an interactive root shell (WebSocket -> PTY -> ssh)
# - list/upload/download files (SFTP)
CONSOLE_SSH_HOST=127.0.0.1
CONSOLE_SSH_PORT=22
CONSOLE_SSH_USER=root
# Recommended: point to a key file on disk (avoid embedding secrets in env).
CONSOLE_SSH_PRIVATE_KEY_PATH=
# base64(OpenSSH private key). Example:
#   base64 -i ~/.ssh/agent.thomas.md | tr -d '\n'
CONSOLE_SSH_PRIVATE_KEY_B64=
